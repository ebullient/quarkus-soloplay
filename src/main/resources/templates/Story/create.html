<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Story Thread - Solo Play</title>
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="/inspector.css">
</head>
<body>
    <header>
        <h1>Create New Story Thread</h1>
        <p>Start a new solo play adventure</p>
    </header>

    <nav>
        <a href="/story">‚Üê Back to Story Threads</a>
    </nav>

    <main>
        {#if flash:error}
        <div class="flash error">{flash:error}</div>
        {/if}

        <form action="/story/create" method="POST" class="story-form">
            <div class="form-section">
                <h2>Basic Information</h2>

                <div class="form-group">
                    <label for="name">Story Thread Name *</label>
                    <input type="text" id="name" name="name" required
                           placeholder="e.g., Summer 2024 Adventure"
                           autocomplete="off">
                    <small>Give your playthrough a memorable name</small>
                </div>

                <div class="form-group">
                    <label for="settingName">Setting Name *</label>
                    <input type="text" id="settingName" name="settingName" required
                           placeholder="e.g., Forgotten Realms"
                           autocomplete="off">
                    <small>Must match the setting name used when ingesting lore documents</small>
                </div>
            </div>

            <div class="form-section">
                <h2>Adventure Context (Optional)</h2>
                <p class="section-description">
                    If you're following a published adventure, provide details here.
                    Leave blank for sandbox/homebrew play.
                </p>

                <div class="form-group">
                    <label for="adventureName">Adventure Name</label>
                    <input type="text" id="adventureName" name="adventureName"
                           placeholder="e.g., Lost Mine of Phandelver"
                           autocomplete="off">
                </div>

                <div class="form-group">
                    <label for="adventureDescription">Adventure Description</label>
                    <textarea id="adventureDescription" name="adventureDescription"
                              rows="3"
                              placeholder="Brief description of the adventure"></textarea>
                </div>

                <div class="form-group">
                    <label for="followingMode">Following Mode</label>
                    <select id="followingMode" name="followingMode">
                        <option value="LOOSE" selected>Loose - Use as inspiration, player drives story</option>
                        <option value="STRICT">Strict - Follow adventure beats and structure</option>
                        <option value="INSPIRATION">Inspiration - Reference only when asked</option>
                    </select>
                    <small>How strictly the AI should follow the published adventure</small>
                </div>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Create Story Thread</button>
                <a href="/story" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </main>
</body>
</html>
