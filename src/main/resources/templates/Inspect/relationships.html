{#include base}
    {#title}Campaign Relationships - {storyThreadId}{/title}

    {#stylesheets}
    <link rel="stylesheet" href="/inspector.css">
    {/stylesheets}

    {#header-title}Campaign Relationships{/header-title}

    {#header-subtitle}
        <p>Campaign: {storyThreadId}</p>
    {/header-subtitle}

    {#nav}
    <nav>
        <a href="/chat">Chat Interface</a>
        <a href="/lore">Lore Questions</a>
        <a href="/ingest">Ingest Documents</a>
        <a href="/inspect" class="active">My Game</a>
    </nav>
    {/nav}

    {#content}
    <nav aria-label="Breadcrumb">
        <ol class="breadcrumb">
            <li><a href="/inspect/story/{storyThreadId}">Inspect</a></li>
            <li aria-current="page">Relationships</li>
        </ol>
    </nav>

    <h2>Relationship Network</h2>

    <nav class="actions">
        <a href="/inspect/story/{storyThreadId}/ai/network" class="btn btn-ai">View AI Output</a>
    </nav>

    {#if relationships.isEmpty()}
        <div class="empty-state">
            <p>No relationships found in this campaign.</p>
        </div>
    {#else}
        <section class="relationship-network">
            {#for relationship in relationships}
                <article class="relationship-card card">
                    <div class="relationship-connection">
                        <div class="character from">
                            <strong>{relationship.character1.name}</strong>
                            {#if relationship.character1.tags}
                            <span class="character-tags">({#each relationship.character1.tags}{it}{#if it_hasNext}, {/if}{/each})</span>
                            {/if}
                        </div>
                        <div class="relationship-details">
                            {#if relationship.tags}
                            <span class="relationship-type">{#each relationship.tags}{it}{#if it_hasNext}, {/if}{/each}</span>
                            {/if}
                            <div class="relationship-strength">
                                Strength: {relationship.strength}
                            </div>
                            {#if relationship.description}
                                <p class="relationship-description">{relationship.description}</p>
                            {/if}
                        </div>
                        <div class="character to">
                            <strong>{relationship.character2.name}</strong>
                            {#if relationship.character2.tags}
                            <span class="character-tags">({#each relationship.character2.tags}{it}{#if it_hasNext}, {/if}{/each})</span>
                            {/if}
                        </div>
                    </div>
                    <footer class="relationship-meta">
                        Since: {relationship.since}
                    </footer>
                </article>
            {/for}
        </section>
    {/if}
    {/content}
{/include}
