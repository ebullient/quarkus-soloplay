{#include base}
    {#title}Select Story Thread - Inspect{/title}

    {#stylesheets}
    <link rel="stylesheet" href="/inspector.css">
    {/stylesheets}

    {#header-title}Inspect - Select Story Thread{/header-title}

    {#header-subtitle}
        <p>Choose a story thread to inspect its characters, locations, and events</p>
    {/header-subtitle}

    {#content}
        <section class="story-threads-container">
            {#if threads.isEmpty()}
                <div class="empty-state">
                    <h2>No Story Threads Yet</h2>
                    <p>Create a story thread first to begin inspecting AI-generated content.</p>
                    <a href="/story/create" class="btn btn-primary">Create New Story Thread</a>
                </div>
            {#else}
                <div class="story-threads-grid grid">
                    {#for thread in threads}
                        <article class="story-card card">
                            <header class="story-header">
                                <h2>{thread.name}</h2>
                                <span class="badge status-badge">{thread.status}</span>
                            </header>

                            <dl class="story-details">
                                {#if thread.adventureName}
                                <dt>Adventure:</dt>
                                <dd>{thread.adventureName} <span class="badge">{thread.followingMode}</span></dd>
                                {/if}

                                <dt>Current Day:</dt>
                                <dd>{thread.currentDay}</dd>

                                {#if thread.currentSituation}
                                <dt>Current Situation:</dt>
                                <dd>{thread.currentSituation}</dd>
                                {/if}

                                <dt>Last Played:</dt>
                                <dd>
                                    {#if thread.lastPlayedAt}
                                        {thread.lastPlayedAt.toString()}
                                    {#else}
                                        Never
                                    {/if}
                                </dd>
                            </dl>

                            <footer class="story-actions">
                                <a href="/inspect/story/{thread.id}" class="btn btn-primary">Inspect This Thread</a>
                            </footer>
                        </article>
                    {/for}
                </div>
            {/if}
        </section>
    {/content}
{/include}
