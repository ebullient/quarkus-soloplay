{#include base}
    {#title}Locations - My Game{/title}

    {#stylesheets}
    <link rel="stylesheet" href="/characters.css">
    {/stylesheets}

    {#header-title}Campaign Locations{/header-title}

    {#header-subtitle}
        <p>Campaign: {storyThreadId}</p>
    {/header-subtitle}

    {#nav}
    <nav>
        <a href="/chat">Chat Interface</a>
        <a href="/lore">Lore Questions</a>
        <a href="/ingest">Ingest Documents</a>
        <a href="/inspect" class="active">My Game</a>
    </nav>
    {/nav}

    {#content}
    <div class="locations-header">
        <h2>Locations ({locations.size})</h2>
        <div class="actions">
            <a href="/inspect/story/{storyThreadId}" class="btn btn-secondary">‚Üê Back to Dashboard</a>
        </div>
    </div>

    {#if locations.empty}
    <div class="empty-state">
        <p>No locations found in this campaign.</p>
        <p>Locations are automatically created by AI agents during gameplay.</p>
    </div>
    {#else}
    <div class="locations-grid">
        {#for location in locations}
        <div class="location-card">
            <div class="location-header">
                <h3><a href="/inspect/story/{storyThreadId}/locations/{location.slug}">{location.name}</a></h3>
                <div class="location-tags">
                    {#if location.tags}
                    {#each location.tags}
                    <span class="tag">{it}</span>
                    {/each}
                    {/if}
                </div>
            </div>

            {#if location.summary}
            <p class="location-summary">{location.summary}</p>
            {/if}

            <div class="location-meta">
                {#if location.createdAt}
                <span class="created-at">Created: {location.createdAt.formatUtc('MMM dd, yyyy')}</span>
                {/if}
            </div>
        </div>
        {/for}
    </div>
    {/if}
    {/content}
{/include}
