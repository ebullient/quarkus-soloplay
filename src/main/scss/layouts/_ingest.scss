// Ingest Layout - Form-specific styles
@use '../variables' as *;
@use '../mixins' as *;

#ingest-form-container {
   padding: var(--spacing-xl);
   max-width: 600px;
   margin: 0 auto;
}

// File input wrapper (hides native input)
.file-input-wrapper {
    position: relative;
    overflow: hidden;

    input[type="file"] {
        position: absolute;
        left: -9999px;
    }
}

.file-input-label {
    display: block;
    padding: 0.75rem;
    background: var(--color-bg-base);
    border: 1px solid var(--color-text-accent);
    border-radius: var(--border-radius-sm);
    color: var(--color-text-primary);
    text-align: center;
    cursor: pointer;
    transition: background $transition-base;

    &:hover {
        background: var(--color-bg-overlay);
    }
}

#file-list {
    background: var(--color-bg-base);
    border-radius: var(--border-radius-sm);
    padding: var(--spacing-sm);
    min-height: 2rem;
    max-height: 150px;
    overflow-y: auto;
    @include custom-scrollbar($scrollbar-width-sm);
}

.file-item::before {
    content: "ðŸ“„ ";
}

// Status messages
#status-message {
    border-radius: var(--border-radius-sm);
    display: none;

    &.success {
        @include status-message(var(--color-success-bg), var(--color-success-border), var(--color-success-text));
        display: block;
    }

    &.error {
        @include status-message(var(--color-error-bg), var(--color-error-border), var(--color-error-text));
        display: block;
    }

    &.info {
        @include status-message(var(--color-info-bg), var(--color-info-border), var(--color-info-text));
        display: block;
    }
}

// Loaded files section
#loaded-files-container {
    padding: var(--spacing-xl);
    max-width: 800px;
    margin: 2rem auto 0;
}

.loaded-files-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-md);

    h2 {
        margin: 0;
        color: var(--color-text-primary);
    }

    .btn-secondary {
        padding: 0.5rem 1rem;
        font-size: 0.9rem;
    }
}

#loaded-files-content {
    .loading-text,
    .empty-state,
    .error-text {
        text-align: center;
        padding: var(--spacing-lg);
        color: var(--color-text-secondary);
    }

    .error-text {
        color: var(--color-error-text);
    }
}

.loaded-files-table {
    width: 100%;
    border-collapse: collapse;
    background: var(--color-bg-base);
    border-radius: var(--border-radius-sm);
    overflow: hidden;

    thead {
        background: var(--color-bg-overlay);

        th {
            padding: var(--spacing-sm) var(--spacing-md);
            text-align: left;
            font-weight: 600;
            color: var(--color-text-primary);
            border-bottom: 2px solid var(--color-border);
        }
    }

    tbody {
        tr {
            border-bottom: 1px solid var(--color-border);

            &:hover {
                background: var(--color-bg-hover);
            }

            &:last-child {
                border-bottom: none;
            }
        }

        td {
            padding: var(--spacing-sm) var(--spacing-md);
            color: var(--color-text-primary);
        }

        .file-name {
            font-family: monospace;
        }

        .embedding-count {
            text-align: right;
            font-weight: 500;
        }
    }

    tfoot {
        background: var(--color-bg-overlay);
        border-top: 2px solid var(--color-border);

        th {
            padding: var(--spacing-sm) var(--spacing-md);
            font-weight: 700;
            color: var(--color-text-primary);

            &:first-child {
                text-align: left;
            }

            &:last-child {
                text-align: right;
            }
        }
    }
}
